;; shadow-cljs configuration
{:source-paths
 ["src/dev"
  "src/main"
  "src/test"
  "resources"]

 :dev-http {8080 "public"}

 :dependencies
 [[com.google.template/soy "2023-07-19"]]

 :builds
 {:dev-esm {:target :browser 
            :output-dir "public/js" 
            :asset-path "js" 
            :modules {:common     {:entries [movie.common.core]
                                   :exports {onEvent movie.common.event/on}}
                      :model      {:entries  [movie.model.core]
                                   :depends-on #{:common}}
                      :view       {:entries [movie.view.core] 
                                   :depends-on #{:common} 
                                   :exports {View          movie.view.core/->View
                                             createElement movie.view.dom/create-dom}}
                      :controller {:entries [movie.controller.core]
                                   :depends-on #{:common}
                                   :exports {fetchStorage movie.controller.local/fetch}}}}}}
